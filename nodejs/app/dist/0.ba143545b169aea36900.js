webpackJsonp([0],{72:function(e,t,n){n(89);var o=n(1)(n(76),n(85),"data-v-41393dab",null);e.exports=o.exports},73:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{color:{type:String,default:"#3BA776"}},computed:{style:function(){return{backgroundColor:this.color}}}}},74:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={isInt:new RegExp("^\\d+$")};t.default={data:function(){return{editor:null}},props:{fontsize:{type:String,default:"12px",validator:function(e){return parseInt(e)>11&&parseInt(e)<25}},codefolding:{type:String,default:"markbegin",validator:function(e){return["manual","markbegin","markbeginend"].includes(e)}},softwrap:{type:String,default:"free",validator:function(e){return["off","free"].includes(e)||o.isInt.test(e)}},selectionstyle:{type:String,default:"text",validator:function(e){return["text","line"].includes(e)}},highlightline:{type:Boolean,default:!0},value:{type:String,default:""}},methods:{setMode:function(){this.editor.getSession().setMode("ace/mode/javascript")},setTheme:function(){this.editor.setTheme("ace/theme/chrome")},emitCode:function(){this.$emit("input",this.editor.getValue())},setCode:function(e){this.editor.setValue(e)}},mounted:function(){this.editor=window.ace.edit("vue-bulma-editor"),this.setMode(),this.setTheme(),this.editor.$blockScrolling=1/0,this.editor.getSession().on("change",this.emitCode),this.setCode(this.value)},beforeDestroy:function(){this.editor.destroy()},watch:{mode:function(){this.setMode()},theme:function(){this.setTheme()},fontsize:function(e){this.editor.setFontSize(e)},codefolding:function(e){this.editor.session.setFoldStyle(e),this.editor.setShowFoldWidgets("manual"!==e)},softwrap:function(e){this.editor.setOption("wrap",e)},selectionstyle:function(e){this.editor.setOption("selectionStyle",e)},highlightline:function(e){this.editor.setHighlightActiveLine(e)},value:function(e){e!=this.editor.getValue()&&(this.setCode(e),this.editor.clearSelection())}}}},75:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{onClose:function(){this.$emit("close")}}}},76:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0__components_jseditor__=__webpack_require__(82),__WEBPACK_IMPORTED_MODULE_0__components_jseditor___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_jseditor__),__WEBPACK_IMPORTED_MODULE_1__components_button__=__webpack_require__(81),__WEBPACK_IMPORTED_MODULE_1__components_button___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_button__),__WEBPACK_IMPORTED_MODULE_2__components_label__=__webpack_require__(83),__WEBPACK_IMPORTED_MODULE_2__components_label___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__components_label__),__WEBPACK_IMPORTED_MODULE_3__lib_require__=__webpack_require__(77);__webpack_exports__.default={name:"index",data:function(){return{code:"",listener:null,result:[]}},methods:{save:function(){var e=this,t=Object.keys(this.dependencies);this.isIndex?this.$http.post("/codes",{code:this.code,deps:t}).then(function(t){e.$store.dispatch("UPDATE_CODE",{code:e.code}),e.$store.dispatch("SNACKBAR_PUSH",{message:"Create success"}),e.$router.push("/codes/"+t.data.id)}).catch(function(){return e.$store.dispatch("SNACKBAR_PUSH",{message:"Save failed"})}):this.$http.put("/codes/"+this.$route.params.id,{code:this.code,deps:t}).then(function(t){e.$store.dispatch("UPDATE_CODE",{code:e.code}),e.$store.dispatch("SNACKBAR_PUSH",{message:"Save success"})}).catch(function(){return e.$store.dispatch("SNACKBAR_PUSH",{message:"Save failed"})})},run:function(){var e=/(^.|\b)console\.(\S+)/g,t=this.code;if(e.test(t)){t=t.replace(e,function(e,t,n){return"window.mockConsole."+n})}this.$refs.frame.contentWindow.require=this.require;try{this.$refs.frame.contentWindow.eval(t)}catch(e){this.addMessage({type:"error",data:e.message})}},addMessage:function(e){var t=e.data,n=e.type;this.result.push({type:n,data:t}),this.$refs.result.scrollTop=this.$refs.result.scrollHeight},delLabel:function(e){this.$store.dispatch("REMOVE_DEP",{id:e})}},mounted:function(){var e=this;if(this.code=this.$store.state.currentCode,this.listener=function(t){try{var n=JSON.parse(t.data);"log"===n.type&&e.addMessage(n)}catch(e){}},window.addEventListener("message",this.listener),""===this.code&&0===Object.keys(this.dependencies).length){this.$router.push("/");var t=["// a simple example","// module.exports = {",'//   text: "hello world"',"// }","// you can import a module such as",'// const module = require("id")',"// each module will be saved for 10 minutes\n"].join("\n");return this.$store.dispatch("UPDATE_CODE",{code:t}),void(this.code=t)}},beforeDestroy:function(){window.removeEventListener("message",this.listener)},computed:{dependencies:function(){return this.$store.state.dependencies},require:function require(){var deps=this.dependencies,req=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__lib_require__.a)();return Object.keys(deps).forEach(function(k){req.register(k,eval("("+deps[k]+")"))}),req},isIndex:function(){return"/"===this.$route.path}},preFetch:function(e){return"/"===e.state.route.path?Promise.resolve():e.dispatch("FETCH_MODULE",{id:e.state.route.params.id})},components:{Editor:__WEBPACK_IMPORTED_MODULE_0__components_jseditor___default.a,"v-button":__WEBPACK_IMPORTED_MODULE_1__components_button___default.a,"v-label":__WEBPACK_IMPORTED_MODULE_2__components_label___default.a}}},77:function(e,t,n){"use strict";t.a=function(){function e(t){var n=e.modules[t];if(!n)throw new Error('failed to require "'+t+'"');return n.exports||(n.exports={},n.call(n.exports,n,n.exports)),n.exports}return e.modules={},e.register=function(t,n){e.modules[t]=n},e}},78:function(e,t,n){t=e.exports=n(2)(void 0),t.push([e.i,"\n.label[data-v-2ea2791e] {\n  display: -ms-flexbox;\n  display: flex;\n  position: relative;\n  -ms-flex-align: center;\n      align-items: center;\n  padding: 5px 10px;\n  background-color: #63ACE5;\n  color: #FFF;\n  border-radius: 4px;\n}\n.label:hover .close[data-v-2ea2791e] {\n    display: -ms-flexbox;\n    display: flex;\n}\n.close[data-v-2ea2791e] {\n  position: absolute;\n  cursor: pointer;\n  height: 20px;\n  width: 20px;\n  right: -10px;\n  top: -10px;\n  border-radius: 50%;\n  background-color: #FF4E50;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n  display: none;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n",""])},79:function(e,t,n){t=e.exports=n(2)(void 0),t.push([e.i,"\n.index[data-v-41393dab] {\n  display: -ms-flexbox;\n  display: flex;\n  padding: 20px 50px 0;\n}\n.code[data-v-41393dab] {\n  -ms-flex: 1;\n      flex: 1;\n}\n.output[data-v-41393dab] {\n  width: 300px;\n}\n.editor[data-v-41393dab] {\n  height: 400px;\n  -ms-flex: 1;\n      flex: 1;\n}\n.info[data-v-41393dab] {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-pack: justify;\n      justify-content: space-between;\n  padding: 10px 0;\n}\n.info .label-group[data-v-41393dab] {\n    display: -ms-flexbox;\n    display: flex;\n    -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n}\n.info .label-group .label[data-v-41393dab] {\n      margin-right: 15px;\n      margin-bottom: 10px;\n}\n.info .action[data-v-41393dab] {\n    display: -ms-flexbox;\n    display: flex;\n}\n.info .action button[data-v-41393dab] {\n      margin-left: 15px;\n}\n.output[data-v-41393dab] {\n  margin-left: 20px;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n      flex-direction: column;\n  height: 400px;\n  background: #f7f7f7;\n}\n.output .iframe[data-v-41393dab] {\n    display: none;\n}\n.output h3[data-v-41393dab] {\n    padding: 10px;\n    font-size: 13px;\n    color: rgba(0, 0, 0, 0.5);\n    margin: 0;\n}\n.output .result[data-v-41393dab] {\n    overflow: auto;\n    list-style: none;\n    padding: 0;\n    margin: 0;\n}\n.output .result li[data-v-41393dab] {\n      display: -ms-flexbox;\n      display: flex;\n      height: 26px;\n      font-size: 15px;\n      -ms-flex-align: center;\n          align-items: center;\n      padding-left: 20px;\n      border-top: 1px solid #EEEFEE;\n}\n.output .result li.error[data-v-41393dab] {\n      color: #E81D20;\n}\n",""])},80:function(e,t,n){t=e.exports=n(2)(void 0),t.push([e.i,"\n.btn[data-v-b10b7cf6] {\n  height: 36px;\n  color: #FFF;\n  border: none;\n  min-width: 64px;\n  box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n  border-radius: 2px;\n  transition: box-shadow 0.2s cubic-bezier(0.4, 0, 1, 1);\n  cursor: pointer;\n  font-size: 15px;\n  font-weight: bold;\n  outline: none;\n}\n.btn[data-v-b10b7cf6]:hover {\n    box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14), 0 1px 10px 0 rgba(0, 0, 0, 0.12), 0 2px 4px -1px rgba(0, 0, 0, 0.2);\n}\n",""])},81:function(e,t,n){n(90);var o=n(1)(n(73),n(87),"data-v-b10b7cf6",null);e.exports=o.exports},82:function(e,t,n){var o=n(1)(n(74),n(86),null,null);e.exports=o.exports},83:function(e,t,n){n(88);var o=n(1)(n(75),n(84),"data-v-2ea2791e",null);e.exports=o.exports},84:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"label"},[n("span",{staticClass:"close",on:{click:e.onClose}},[e._v("x")]),e._t("default")],2)},staticRenderFns:[]}},85:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index"},[n("div",{staticClass:"code"},[n("Editor",{staticClass:"editor",attrs:{fontsize:"12px",codefolding:"markbegin",softwrap:"free",selectionstyle:"text",highlightline:!0},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}),n("div",{staticClass:"info"},[n("div",{staticClass:"label-group"},e._l(e.dependencies,function(t,o){return n("v-label",{key:o,staticClass:"label",on:{close:function(t){e.delLabel(o)}}},[e._v(e._s(o))])})),n("div",{staticClass:"action"},[n("v-button",{nativeOn:{click:function(t){e.run(t)}}},[e._v("Run")]),n("v-button",{attrs:{color:"#3B99FC"},nativeOn:{click:function(t){e.save(t)}}},[e._v("Save")])],1)])],1),n("div",{staticClass:"output"},[n("iframe",{ref:"frame",staticClass:"iframe",attrs:{src:"/public/runner.html",frameborder:"0"}}),n("h3",[e._v("Console")]),n("ul",{ref:"result",staticClass:"result"},e._l(e.result,function(t,o){return n("li",{key:o,class:{error:"error"===t.type}},[e._v("\n        "+e._s(t.data.toString())+"\n      ")])}))],1)])},staticRenderFns:[]}},86:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{attrs:{id:"vue-bulma-editor"}})},staticRenderFns:[]}},87:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"btn",style:e.style},[e._t("default")],2)},staticRenderFns:[]}},88:function(e,t,n){var o=n(78);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(3)("2f4fed98",o,!0)},89:function(e,t,n){var o=n(79);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(3)("5c501d5e",o,!0)},90:function(e,t,n){var o=n(80);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(3)("7f6a3e57",o,!0)}});